{% from "macros.html" import static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="{{ static("js/jquery.min.js") }}"></script>
    <script>
        $(function () {
            $("#jsonBtn").click(function () {
                // 获取xhr
                var xhr = new XMLHttpRequest();
                // 创建请求
                xhr.open('get', '/json3_server/', async=true);
                // 设置回调函数
                xhr.onreadystatechange = function () {
                    if(xhr.status==200 && xhr.readyState==4){
                        var res = xhr.responseText;
                        var arr = JSON.parse(res);  
                        $(arr).each(function (i, obj) {
                            console.log('name:'+obj.name);
                            console.log('age:'+obj.age);
                            console.log('gender :'+obj.gender);
                        });
                    }
                };
                // 发送请求
                xhr.send(null);
            });
        });

    </script>
</head>
<body>
    <button id="jsonBtn">JSON解析</button>
</body>
</html>